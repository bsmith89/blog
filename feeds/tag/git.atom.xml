<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Deep Ecology - git</title><link href="//blog.byronjsmith.com/" rel="alternate"></link><link href="//blog.byronjsmith.com/feeds/tag/git.atom.xml" rel="self"></link><id>//blog.byronjsmith.com/</id><updated>2021-01-21T12:00:00-05:00</updated><subtitle>A blog of the new microbiology.</subtitle><entry><title>Things I'm Glad I Learned</title><link href="//blog.byronjsmith.com/things-im-glad-i-learned.html" rel="alternate"></link><published>2021-01-18T18:00:00-05:00</published><updated>2021-01-21T12:00:00-05:00</updated><author><name>Byron J. Smith</name></author><id>tag:blog.byronjsmith.com,2021-01-18:/things-im-glad-i-learned.html</id><summary type="html">&lt;p&gt;&lt;em&gt;WARNING: This post was written with haste and therefore
contains all kinds of typos, spelling errors, grammatical issues, and
delusions of grandeur, wisdom, and writing ability.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This post is intended as a living document&amp;mdash;a
gratitude journal of sorts&amp;mdash;of some things that I'm glad I learned.
I expect many of the items on this list will be relevant to computation
biology, but that may change in the future.&lt;/p&gt;
&lt;p&gt;The big idea is that for every item on this list I am (A) glad that
someone introduced me to it,
and (B) think more people should know about it.
This post is my chance to "pay it backwards", as it were;
maybe someone else will be grateful for something they find for the first time
on this list.&lt;/p&gt;
&lt;p&gt;It may also double as an inspiration list for future posts.&lt;/p&gt;
&lt;p&gt;My goal is to write a small blurb for each item â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;WARNING: This post was written with haste and therefore
contains all kinds of typos, spelling errors, grammatical issues, and
delusions of grandeur, wisdom, and writing ability.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This post is intended as a living document&amp;mdash;a
gratitude journal of sorts&amp;mdash;of some things that I'm glad I learned.
I expect many of the items on this list will be relevant to computation
biology, but that may change in the future.&lt;/p&gt;
&lt;p&gt;The big idea is that for every item on this list I am (A) glad that
someone introduced me to it,
and (B) think more people should know about it.
This post is my chance to "pay it backwards", as it were;
maybe someone else will be grateful for something they find for the first time
on this list.&lt;/p&gt;
&lt;p&gt;It may also double as an inspiration list for future posts.&lt;/p&gt;
&lt;p&gt;My goal is to write a small blurb for each item, explaining what it is,
how it connects to other items, why I'm grateful for it,
when, and why I first learned about it.
I may add additional links in future edits.
Beyond that, I'll likely leave further discovery up to the reader.&lt;/p&gt;
&lt;h2&gt;Computing&lt;/h2&gt;
&lt;h4&gt;Dependency Graphs (e.g. GNU Make, Snakemake)&lt;/h4&gt;
&lt;p&gt;Many computer people have used GNU Make (or one of its variants) to build
software, but not everyone realizes that it is actually a much more generally
applicable tool.
Make's core idea is that every file that you want to construct requires zero
or more other files as prerequisites.
When you have multiple files, and some of them are prerequisites of
each other, you end up with a directed, acyclic graph describing all of the
chains of dependency.
This description is encoded in Make's domain specific language (DSL) in a
&lt;code&gt;Makefile&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The beauty of this dependency graph is that it directly implies optimal
procedures for a whole bunch of useful operations.
First, and most useful, for any target file and set of existing files, Make can
determine the sequence of file constructions that will get from A to B.
As a corollary, it can also determine what &lt;em&gt;doesn't&lt;/em&gt; need to be built
given what already exists.
If you tack on instructions for building each file from its prerequisites, Make
can run those procedures for you automatically.
And if you have timestamps for each file, it can update files only when they're
out of date.&lt;/p&gt;
&lt;p&gt;While this was originally designed for software compilation, it works just
as well for data workflows (or building static HTML for a blog...)&lt;/p&gt;
&lt;p&gt;Since discovering the power of the dependency graph representation and tooling,
I've since upgraded to Snakemake, which fills some additional gaps that come up
in bioinformatics, but is exactly the same concept.
At this point, the Snakefile is the core of all of my (computational) research
projects, and provides me with a version-controlled, and highly modular,
description of all of the steps in my project.&lt;/p&gt;
&lt;p&gt;I think I need to thank C. Titus Brown for introducing me to Make, probably
in summer of 2011 while I was rotating in his lab (but maybe later).&lt;/p&gt;
&lt;h4&gt;Probabilistic Programming (e.g. PyMC3, Pyro)&lt;/h4&gt;
&lt;p&gt;Since first learning about model based inference, at ELME in 2012,
I've been enthralled with frameworks that allow me to take full advantage
of the modularity and flexibility of graphical models without
programming the core algorithms from scratch.
It was actually the process of learning PyMC3 that taught me almost everything
I now know about Bayesian statistics (with a foundation of key concepts
imparted by many other teachers along the way).
Having access to such a powerful DSL makes graphical modeling the hammer for
which I now see an abundance of nails.&lt;/p&gt;
&lt;p&gt;More recently I've started to use Pyro (a different probabilistic programming
framework) as well.
While it was a chore to reshape my mental model of probabilistic programming
with a whole new ecosystem, that has undoubtedly been a valuable learning
experience, and the incredibly fast, GPU accelerated, stochastic gradient
descent algorithms for MAP estimation have been a breakthrough for my research.&lt;/p&gt;
&lt;p&gt;I honestly have no idea who first introduced me to PP, but based on my
GitHub I was teaching myself PyMC3 starting in 2016.&lt;/p&gt;
&lt;h4&gt;Containers (e.g. Docker, Singularity)&lt;/h4&gt;
&lt;p&gt;The newest item on this list (as of December 2020)!&lt;/p&gt;
&lt;p&gt;Containers take what Conda promised (encapsulated, reproducible
software environments), and actually deliver it.
I think the Docker/Singularity combo may have finally solved all of my
software installation problems... Lol.&lt;/p&gt;
&lt;p&gt;This is a hard one to assign thanks, because containerization has been
marketed to me by probably five different people since 2014 or so.
Very grateful that I finally picked it up in 2020!
Should I also thank the incredibly frustrating experience of trying to install
PyMC3/Theano (on a slightly outdated CentOS server, repeatedly, every 6 months)
for finally convincing me to try it out?&lt;/p&gt;
&lt;h4&gt;Command-line / UNIX&lt;/h4&gt;
&lt;p&gt;I'm thankful that I have a glue environment, the UNIX command-line,
for all of my computational work.
Working with a command-line interace (CLI) is foundational for all of the
other headings in this "Computing" section.
I'm (as of now) not including Vim as a separate item, but it really is the
combination of Bash and (Neo)Vim that I'm most grateful for.&lt;/p&gt;
&lt;p&gt;I'm not sure who to thank for this one. Maybe Google, because they sent me a
free Chromebook in the early days (which I used extensively for college
work until the wi-fi broke...).
It was hacking around on that Chromebook's terminal that got me into Linux,
and ultimately resulted in me replacing Windows with Ubuntu on my main laptop.&lt;/p&gt;
&lt;p&gt;I probably wouldn't be the scientist that I am now if it weren't for that
experience.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://xkcd.com/519/"&gt;Relevant XKCD&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Python&lt;/h4&gt;
&lt;p&gt;Anything that I'm capable of programming, I'm capable of programming in Python.&lt;/p&gt;
&lt;p&gt;I'm glad that I know at least one language very well.
I think it makes me a
better teacher (of Python, but also of other languages).
I think it makes
it easier for me to learn new languages and programming concepts.
And I almost never need to decide what language to work in when I'm
doing something complicated; it's always Python.&lt;/p&gt;
&lt;p&gt;Thanks for introducing me to Python goes to Dr. John Hayes, a postdoc
(neuroscientist) I worked with briefly while I was doing undergraduate research
in Margaret Saha's Lab at The College of William &amp;amp; Mary.&lt;/p&gt;
&lt;h4&gt;Functional Programming&lt;/h4&gt;
&lt;p&gt;I'm a Haskell beginner, maybe intermediate depending on who you ask.
I don't do any of my work in Haskell, although I sometimes look for
opportunites.
On the other hand, almost &lt;em&gt;all&lt;/em&gt; of my programming is in a functional style.
I think (without any empirical evidence) I've probably saved myself a lot of
problems by taking pains to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Never reuse variable names for different things&lt;/li&gt;
&lt;li&gt;Avoid mutation ("in the large")&lt;/li&gt;
&lt;li&gt;Use higher-level functions and composition instead of conditionals to control
  program flow&lt;/li&gt;
&lt;li&gt;Keep side-effects away from core logic&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Plain-text&lt;/h4&gt;
&lt;p&gt;Simple text-files and a smattering of UNIX tools will take you 2/3rds to
being a bioinformatician.
Text files are the ultimate form of portability and I believe they should be
used until there is a good reason not to.&lt;/p&gt;
&lt;p&gt;I think Software Carpentry is probably responsible for my positive relationship
with plain-text.&lt;/p&gt;
&lt;h4&gt;Version Control (e.g. Git)&lt;/h4&gt;
&lt;p&gt;If most of your work is plain text, you also get to use version control for
tracking your progress, archiving, sharing, collaboration, and fancy
branching that sometimes comes in handy.&lt;/p&gt;
&lt;p&gt;I am very thankful for having been introduced to Git by Software Carpentry.
It has saved my ass many times.&lt;/p&gt;
&lt;h4&gt;Jupyter notebooks&lt;/h4&gt;
&lt;p&gt;Jupyter Notebooks (and their kin) are great, but only for prototyping and
interactive work; never for reproducible automation.
Notebooks are a core part of my workflow, and the exploratory data analysis
phase of my work is very much done in the Jupyter environment.
On the other hand, my love of workflow managers like Snakemake means that
I try to keep interactive work at the "tips" of my data processing DAG.
Notebooks are a great place to do prototyping, but the second I need the
resulting data for a downstream step it's probably time to convert it to a
script.&lt;/p&gt;
&lt;p&gt;I was introduced to IPython by Greg Wilson and IPython (now Jupyter) Notebooks
by C. Titus Brown during my first Software Carpentry class in 2012.
I'm thankful for all of the work that has gone into making Jupyter Notebooks
the phenomenal tool that they are.&lt;/p&gt;
&lt;h2&gt;Biology&lt;/h2&gt;
&lt;h4&gt;Organic Chemistry&lt;/h4&gt;
&lt;p&gt;I think having first-principles knowledge about how biology is built out of
chemistry has served me very well.&lt;/p&gt;
&lt;p&gt;Not sure there's much more for me to say than that.&lt;/p&gt;
&lt;h4&gt;Neutral Evolution / Spandrils&lt;/h4&gt;
&lt;p&gt;Not everything is adaptive (e.g. I'm 99% sure eye color doesn't affect survival
or reproduction.)
Not everything that seems adaptive, even when there's evidence for convergent
evolution, actually is.
It's incredibly infuriating to see so many Appeals to Natural Selection
(a new logical fallacy I'm naming here first, 2021-01-18) in our
general discourse.&lt;/p&gt;
&lt;p&gt;Some traits are due to random events (neutrality).
Some traits are a natural consequence of physical reality (spandrils).
I'd guess these are important parts of a full answer to a key question in my
field: "why do animals have such fancy microbiomes?"&lt;/p&gt;
&lt;p&gt;If I had to guess, I learned about both neutral evolution and spandrils first
in my evolutionary biology class in college.
I'm sure I can figure out who taught that class if I dig into my emails,
but I'm going to put that off for another day.&lt;/p&gt;
&lt;h4&gt;Microbial Communities&lt;/h4&gt;
&lt;p&gt;I have no doubt that the research I did in high school with Dr. May Voytek at
the USGS (in 2006 and 2007) was one of the most important experiences for my
career development.
I was enthralled then&amp;mdash;as I am now&amp;mdash;with the ways in which microbial
metabolisms can combine in complex communities to perform immensely important
processes.
Microbiomes are a great example of an emergence, and I find that very exciting.&lt;/p&gt;
&lt;h2&gt;Statistics&lt;/h2&gt;
&lt;h4&gt;Linear Algebra&lt;/h4&gt;
&lt;p&gt;It's true what they say. Linear Algebra is the core of statistic(al computing).&lt;/p&gt;
&lt;p&gt;I learned linear algebra, in a course by that name, my sophomore year of
college,
and have taken a number of courses since then that improved my competence
markedly.
These include mathematical biology classes at W&amp;amp;M (2010?),
graduate level statistics courses
(2012?), and a class on matrix population models in ecology taught by Hal
Caswell (2012).&lt;/p&gt;
&lt;h4&gt;Graphical Models&lt;/h4&gt;
&lt;p&gt;My introduction to graphical models were back-to-back one-week workshop on
maximum likelihood estimation and structural equation modeling taught by Colin
Kremer and Don Schoolmaster, respectively, during two sessions of ELME
("Enhanced Linkages between Mathematics and Ecology") at Kellogg Biological
Station in the summer of 2012.&lt;/p&gt;
&lt;p&gt;Modularizing probability into graphs of relationships between latent
and observed variables is incredibly powerful and is the basis for the
entirety of my statistical understanding.&lt;/p&gt;
&lt;h4&gt;Bayesian Statistics&lt;/h4&gt;
&lt;p&gt;It's not the elegance of Bayes's Rule that I'm enamoured with;
it's how Bayesian statistics &lt;em&gt;democratizes&lt;/em&gt; inference (e.g. the Inference
Button).
If you have a data generating model and some data, you can make
logically consistent statements about it's parameters.
&lt;em&gt;And&lt;/em&gt; you get propagation of uncertainty for free!
How cool is that??&lt;/p&gt;
&lt;p&gt;The first material impact on my understanding of Bayesian stats
was probably in Statistics for Ecologists (was that the class name?),
taught by Dr. Ian Dworkin at Michigan State University.
ELME also played a key role in priming me to understand what Dr. Dworkin was
teaching, although I still only got a whiff of the importance.
It was probably another 4+ years before I learned enough basics to
start calling myself a Bayesian by self-teaching PyMC3.&lt;/p&gt;
&lt;h4&gt;Causal Inference&lt;/h4&gt;
&lt;p&gt;I am by no means fully competent with causal inference, but I aspire to be.&lt;/p&gt;
&lt;p&gt;The idea that we can automate the scientific method
(&lt;code&gt;observation -&amp;gt; hypothesis -&amp;gt; experiment&lt;/code&gt; and all its variations), has been
super influential on the way I think about my work.&lt;/p&gt;
&lt;p&gt;I'd like to do more of this in the coming data.&lt;/p&gt;
&lt;h2&gt;Teaching&lt;/h2&gt;
&lt;h4&gt;Learning Objectives / Concept Inventories&lt;/h4&gt;
&lt;p&gt;It's like the truism that I don't know how to attribute: "The most important
part being able to play a song, is knowing how it goes".
The most important part of teaching is knowing what you are teaching.&lt;/p&gt;
&lt;p&gt;I think the biggest mistake that I've made (and seen made) as a teacher
is not knowing what I'm trying to teach.
Explicit and carefully vetted learning objectives, especially those written
using best practices
(i.e. "At the conclusion of this activity, participants will be able to...")
are a key tool to solve this problem.
Following that with simple questions that (A) assess whether those objectives
have been met, and (B) identify exactly how students' understanding is lacking,
is the real win.
Collections of those questions, called "concept inventories", can (and should
be) shared as a key component of collaborative lesson development.&lt;/p&gt;
&lt;p&gt;I think I have to thank Greg Wilson and Software Carpentry instructor training
(in 2016?) for opening my eyes to the power of this combination.&lt;/p&gt;
&lt;h4&gt;Expert Bias&lt;/h4&gt;
&lt;p&gt;The more we know about a subject the harder it is for us to empathize with
those just starting to learn it.
(See Cognitive Biases, below)
I see it everywhere and staying self-aware about how it limits my
ability to teach has been really important.&lt;/p&gt;
&lt;p&gt;This is another one I picked up from Greg Wilson and Software Carpentry
training.&lt;/p&gt;
&lt;h4&gt;Learning By Teaching&lt;/h4&gt;
&lt;p&gt;For me (and undoubtedly many other people too), I learn something the best
when I have to teach it.
This served me very well during my undergraduate genetics class when
Nishant Kishore and I would cram the night before a test by me "teaching" him
the material to the extent that I had understood it.&lt;/p&gt;
&lt;p&gt;This compounds with other ideas in pedagogy, like Expert Bias, and I think
its a big part of why the Think-Pair-Share tactic works so well.&lt;/p&gt;
&lt;h2&gt;Life&lt;/h2&gt;
&lt;h4&gt;Growth Mindset&lt;/h4&gt;
&lt;p&gt;It feels incredibly powerful to see your current self as just a single stage
in the development of your full capabilities.&lt;/p&gt;
&lt;p&gt;I think I really first learned this in Multivariate Calculus my sophomore
year; I distinctly remember how gratifying it was to go from absolutely zero
understanding to a B-minus on the final; a bad grade relative to my other
classes but I'm very proud of it nonetheless.&lt;/p&gt;
&lt;p&gt;Knowing that I am a work in progress is both liberating and empowering.&lt;/p&gt;
&lt;h4&gt;Deficit Model of Persuasion&lt;/h4&gt;
&lt;p&gt;People who disagree with you about the way the world works often have all the
same facts as you do.
We don't convince people of our world view by giving them more facts.&lt;/p&gt;
&lt;p&gt;I find this depressing. But on the flip side you &lt;em&gt;can&lt;/em&gt; be much more effective
at persuasion by doing two key things (to my limited understanding):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Share your emotional reasons for your beliefs
  (e.g. I'm super &lt;strong&gt;excited&lt;/strong&gt; to be able to travel and hug my parents again
  after they and I are vaccinated for COVID-19.
  I've been &lt;strong&gt;scared&lt;/strong&gt; about their safety, and vaccination feels like an
  opportunity for &lt;strong&gt;optimism&lt;/strong&gt;.)&lt;/li&gt;
&lt;li&gt;Demonstrate that their community shares that belief.
  This is usually done by making them part of &lt;em&gt;your&lt;/em&gt; community.
  (I think it's really great that &lt;strong&gt;our&lt;/strong&gt; family/college/neighborhood has
  really come together to get everyone vaccinated.)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is obviously key for science communication.&lt;/p&gt;
&lt;h4&gt;Privelege&lt;/h4&gt;
&lt;p&gt;Recognizing my advantages has been really helpful in building empathy for
disadvantaged groups in the world.
I'd like everyone to have the same access and opportunities for success and
contribution that I have had.&lt;/p&gt;
&lt;p&gt;I probably internalized this sense circa 2015...ish.
Not sure if there's any one person to thank.&lt;/p&gt;
&lt;h4&gt;Talking About Yourself (e.g. "I feel..." Language)&lt;/h4&gt;
&lt;p&gt;I think that my interpersonal relationships have been bolstered by
a mutual ability to communicate about our own feelings instead
of claiming some objective sense of reality ("I am... You are...").&lt;/p&gt;
&lt;p&gt;I can say with some certainty that communication is much more likely to
transition into a fight when I break this rule.&lt;/p&gt;
&lt;p&gt;I realize this is common advice, but it has served me well.&lt;/p&gt;
&lt;h4&gt;Cognitive Biases&lt;/h4&gt;
&lt;p&gt;Especially the "Fundamental Attribution Error".&lt;/p&gt;
&lt;p&gt;Mostly because I am also subject to all of the same biases, but also
because it helps me to understand peoples' behavior, even at large scales.&lt;/p&gt;
&lt;h4&gt;Profit and Monopoly&lt;/h4&gt;
&lt;p&gt;I think I have a hobbyist's understanding of economic theory.
As I understand it, in an idealized world (perfect market efficiency) no
producer should be able to make a marginal profit in the long run.
Obviously this is not really the case, since e.g. doctors are making
great money for their time.
I think it's fascinating that in many (most?) cases where value is being
captured by a small group of people this can be assigned to some sort of
monopoly power.
For instance&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;doctors have the American Medical Association controlling the supply of
  medical labor,&lt;/li&gt;
&lt;li&gt;Genentech has various patents and corporate secrets, and&lt;/li&gt;
&lt;li&gt;ISPs have both cartel power and huge barriers to entry in most regions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Monopolies aren't all evil (left as an exercise to the reader).
Appropriately regulating these monopolies seems to me to be a key
role of governments.&lt;/p&gt;
&lt;h4&gt;Intentional Communities&lt;/h4&gt;
&lt;p&gt;In this millennium, many people (including me) are suffering from less community
than the previous one.
This would appear to be due to geographic mobility (loss of family and
friends), secularization, an extended youth, etc.&lt;/p&gt;
&lt;p&gt;I think it has been empowering to realize that we can choose to have those
communities if we're willing to work for it.
Intentional communities (e.g. communes, kibbutzim) prove it, and give me
something to aspire to.&lt;/p&gt;
&lt;h4&gt;Getting Things Done (GTD)&lt;/h4&gt;
&lt;p&gt;I don't actually use the GTD system, so why is this one on the list?
For me, GTD taught me to use to-do lists as a plan for the day, rather than
(only) record-keeping about what I need to do.
Specifically GTD introduced me to the tactic of giving myself a short list of
&lt;em&gt;only&lt;/em&gt; the tasks that are currently a priority, and using my own behavior to
re-assess if things are &lt;em&gt;actually&lt;/em&gt; important.&lt;/p&gt;
&lt;p&gt;To-do lists can serve other purposes as well, but motivation and prioritization
are two key ones for me.&lt;/p&gt;
&lt;h4&gt;Habits&lt;/h4&gt;
&lt;p&gt;I very much believe that the most important factor in whether or not we
demonstrating self-control in our lives is the degree to which we actually
have to flex that muscle.
Habits are an important way that we can unload the weight of "I should really
do X" while &lt;em&gt;still doing X&lt;/em&gt;.&lt;/p&gt;
&lt;h4&gt;Rituals&lt;/h4&gt;
&lt;p&gt;For me at least, lots of the stress in life comes from worrying or thinking
about things in a non-productive way or over which I don't have control.
Rituals have been valuable for me in putting clear landmarks in my
day/week/year that allow me to reset my mental state.
Many of them are also just enjoyable on their own.
Some key rituals that come to mind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Daily:&lt;ul&gt;
&lt;li&gt;Reading the news as I wake up&lt;/li&gt;
&lt;li&gt;Making/drinking coffee in the morning&lt;/li&gt;
&lt;li&gt;Ending the core of my workday with a beer/cocktail&lt;/li&gt;
&lt;li&gt;Washing my hands thoroughly when getting to work, home&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Week:&lt;ul&gt;
&lt;li&gt;Going for a run/walk without a schedule or destination&lt;/li&gt;
&lt;li&gt;Cooking an expansive dinner&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Yearly&lt;ul&gt;
&lt;li&gt;Traveling to be with my family&lt;/li&gt;
&lt;li&gt;Deep-cleaning my home&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I still want to be intentional about building more of these into my life.&lt;/p&gt;</content><category term="Misc."></category><category term="software-carpentry"></category><category term="teaching"></category><category term="python"></category><category term="programming"></category><category term="open science"></category><category term="microbiome"></category><category term="rant"></category><category term="evolution"></category><category term="pipelines"></category><category term="software"></category><category term="git"></category><category term="containers"></category></entry><entry><title>Take five minutes to simplify your life with Make</title><link href="//blog.byronjsmith.com/makefile-shortcuts.html" rel="alternate"></link><published>2016-06-14T12:00:00-04:00</published><updated>2017-11-21T09:30:00-05:00</updated><author><name>Byron J. Smith</name></author><id>tag:blog.byronjsmith.com,2016-06-14:/makefile-shortcuts.html</id><summary type="html">&lt;p&gt;&lt;em&gt;WARNING: Because of the Markdown rendering of this blog, tab characters
have been replaced with 4 spaces in code blocks.
For this reason, &lt;strong&gt;the makefile code will not work&lt;/strong&gt; when copied directly from
the post.
Instead, you must first replace all 4-space indents with a tab character.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I use &lt;em&gt;GNU Make&lt;/em&gt; to automate my data processing pipelines.
I've written a &lt;a href="//blog.byronjsmith.com/make-analysis.html"&gt;tutorial&lt;/a&gt; &lt;sup id="fnref:shorter-tutorials"&gt;&lt;a class="footnote-ref" href="#fn:shorter-tutorials"&gt;1&lt;/a&gt;&lt;/sup&gt; for novices on the
basics of using &lt;em&gt;Make&lt;/em&gt; for reproducible analysis and I think that everyone who
writes more than one script, or runs more than one shell command to process
their data can benefit from automating that process.
&lt;a href="http://kbroman.org/minimal_make/"&gt;I'm&lt;/a&gt; &lt;a href="https://bost.ocks.org/mike/make/"&gt;not&lt;/a&gt;
&lt;a href="http://zmjones.com/make/"&gt;alone&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, the investment required to learn &lt;em&gt;Make&lt;/em&gt; and to convert an
entire project can seem daunting to many time-strapped researchers.
Even if you aren't
living the dreamâ€”rebuilding
a paper from raw data with a single invocation of
&lt;code&gt;make paper&lt;/code&gt;â€”I still
think you can benefit â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;WARNING: Because of the Markdown rendering of this blog, tab characters
have been replaced with 4 spaces in code blocks.
For this reason, &lt;strong&gt;the makefile code will not work&lt;/strong&gt; when copied directly from
the post.
Instead, you must first replace all 4-space indents with a tab character.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I use &lt;em&gt;GNU Make&lt;/em&gt; to automate my data processing pipelines.
I've written a &lt;a href="//blog.byronjsmith.com/make-analysis.html"&gt;tutorial&lt;/a&gt; &lt;sup id="fnref:shorter-tutorials"&gt;&lt;a class="footnote-ref" href="#fn:shorter-tutorials"&gt;1&lt;/a&gt;&lt;/sup&gt; for novices on the
basics of using &lt;em&gt;Make&lt;/em&gt; for reproducible analysis and I think that everyone who
writes more than one script, or runs more than one shell command to process
their data can benefit from automating that process.
&lt;a href="http://kbroman.org/minimal_make/"&gt;I'm&lt;/a&gt; &lt;a href="https://bost.ocks.org/mike/make/"&gt;not&lt;/a&gt;
&lt;a href="http://zmjones.com/make/"&gt;alone&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, the investment required to learn &lt;em&gt;Make&lt;/em&gt; and to convert an
entire project can seem daunting to many time-strapped researchers.
Even if you aren't
living the dreamâ€”rebuilding
a paper from raw data with a single invocation of
&lt;code&gt;make paper&lt;/code&gt;â€”I still
think you can benefit from adding a simple &lt;code&gt;Makefile&lt;/code&gt; to your project root.&lt;/p&gt;
&lt;p&gt;When done right, scripting the tedious parts of your job &lt;em&gt;can&lt;/em&gt;
save you time in the long run&lt;sup id="fnref:xkcd-refs"&gt;&lt;a class="footnote-ref" href="#fn:xkcd-refs"&gt;2&lt;/a&gt;&lt;/sup&gt;.
But the time savings aren't the only reason to do it.
For me, a bigger advantage is that I get to save my mental energy for
more interesting problems&lt;sup id="fnref:cook-ref"&gt;&lt;a class="footnote-ref" href="#fn:cook-ref"&gt;3&lt;/a&gt;&lt;/sup&gt;.
&lt;em&gt;Make&lt;/em&gt; goes a step further and lets me forget about everything but my
real objective.
With a &lt;code&gt;make [target]&lt;/code&gt; invocation I don't even need to remember the name of the
script.&lt;/p&gt;
&lt;h2&gt;The default makefile&lt;/h2&gt;
&lt;p&gt;TL;DR: All of the code in this post is available as a &lt;a href="https://gist.github.com/bsmith89/c6811893c1cbd2a72cc1d144a197bef2"&gt;gist&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here's what a minimal makefile might look like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;define PROJECT_HELP_MSG&lt;/span&gt;

&lt;span class="nf"&gt;Usage&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="w"&gt;                   &lt;/span&gt;show&lt;span class="w"&gt; &lt;/span&gt;this&lt;span class="w"&gt; &lt;/span&gt;message
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;clean&lt;span class="w"&gt;                  &lt;/span&gt;remove&lt;span class="w"&gt; &lt;/span&gt;intermediate&lt;span class="w"&gt; &lt;/span&gt;files&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;see&lt;span class="w"&gt; &lt;/span&gt;CLEANUP&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VENV&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;virtualenv&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;base&lt;span class="w"&gt; &lt;/span&gt;directory&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;see&lt;span class="w"&gt; &lt;/span&gt;VENV&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;python-reqs&lt;span class="w"&gt;            &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;packages&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;requirements.pip
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;git-config&lt;span class="w"&gt;             &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;local&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;configuration
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;setup&lt;span class="w"&gt;                  &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;init&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;python-reqs&lt;span class="w"&gt; &lt;/span&gt;git-config

&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;start-jupyter&lt;span class="w"&gt;          &lt;/span&gt;launch&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;jupyter&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;local&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;virtualenv

&lt;span class="cp"&gt;endef&lt;/span&gt;
&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PROJECT_HELP_MSG&lt;/span&gt;

&lt;span class="nf"&gt;help&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$$&lt;/span&gt;PROJECT_HELP_MSG&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;less

&lt;span class="nf"&gt;.git&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;init

&lt;span class="nf"&gt;git-config&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; .&lt;span class="n"&gt;git&lt;/span&gt; 
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;filter.dropoutput_jupyter.clean&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;drop_jupyter_output.sh
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;filter.dropoutput_jupyter.smudge&lt;span class="w"&gt; &lt;/span&gt;cat
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;core.page&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;less -x4&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;diff.daff-csv.command&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py diff --git&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;merge.daff-csv.name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py tabular merge&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;merge.daff-csv.driver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py merge --output %A %O %A %B&amp;quot;&lt;/span&gt;

&lt;span class="nv"&gt;VENV&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.venv
&lt;span class="k"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;VIRTUAL_ENV&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;abspath&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VENV&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VIRTUAL_ENV&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/bin:&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="nf"&gt;${VENV}&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;-m&lt;span class="w"&gt; &lt;/span&gt;venv&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;

&lt;span class="nf"&gt;python-reqs&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;requirements&lt;/span&gt;.&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; ${&lt;span class="n"&gt;VENV&lt;/span&gt;}
&lt;span class="w"&gt;    &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;--upgrade&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;requirements.pip

&lt;span class="nf"&gt;setup&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;${&lt;span class="n"&gt;VENV&lt;/span&gt;} &lt;span class="n"&gt;python&lt;/span&gt;-&lt;span class="n"&gt;reqs&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;-&lt;span class="n"&gt;config&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; .&lt;span class="n"&gt;git&lt;/span&gt;

&lt;span class="nf"&gt;start-jupyter&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;jupyter&lt;span class="w"&gt; &lt;/span&gt;notebook&lt;span class="w"&gt; &lt;/span&gt;--config&lt;span class="o"&gt;=&lt;/span&gt;jupyter_notebook_config.py

&lt;span class="nv"&gt;CLEANUP&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;*.pyc

&lt;span class="nf"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;-rf&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CLEANUP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="nf"&gt;.PHONY&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;-&lt;span class="n"&gt;config&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;-&lt;span class="n"&gt;jupter&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;-&lt;span class="n"&gt;reqs&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt; &lt;span class="n"&gt;clean&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you want to start using it right away, download the &lt;a href="https://gist.github.com/bsmith89/c6811893c1cbd2a72cc1d144a197bef2"&gt;gist&lt;/a&gt;,
which includes a couple of other necessary files.
As long as you aren't saving it over another makefile, it won't mess anything
up.&lt;/p&gt;
&lt;p&gt;But let's break it down so you can see how it's made and why it's awesome.&lt;/p&gt;
&lt;p&gt;From the top!&lt;/p&gt;
&lt;h2&gt;A help message for your project&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;define PROJECT_HELP_MSG&lt;/span&gt;

&lt;span class="nf"&gt;Usage&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="w"&gt;                   &lt;/span&gt;show&lt;span class="w"&gt; &lt;/span&gt;this&lt;span class="w"&gt; &lt;/span&gt;message
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;clean&lt;span class="w"&gt;                  &lt;/span&gt;remove&lt;span class="w"&gt; &lt;/span&gt;intermediate&lt;span class="w"&gt; &lt;/span&gt;files&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;see&lt;span class="w"&gt; &lt;/span&gt;CLEANUP&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;git-config&lt;span class="w"&gt;             &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;local&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;configuration
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VENV&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;virtualenv&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;base&lt;span class="w"&gt; &lt;/span&gt;directory&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;see&lt;span class="w"&gt; &lt;/span&gt;VENV&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;python-reqs&lt;span class="w"&gt;            &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;packages&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;requirements.pip
&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;setup&lt;span class="w"&gt;                  &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;init&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;python-reqs&lt;span class="w"&gt; &lt;/span&gt;git-config

&lt;span class="w"&gt;    &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;start-jupyter&lt;span class="w"&gt;          &lt;/span&gt;launch&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;jupyter&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;local&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;virtualenv

&lt;span class="cp"&gt;endef&lt;/span&gt;
&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PROJECT_HELP_MSG&lt;/span&gt;

&lt;span class="nf"&gt;help&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$$&lt;/span&gt;PROJECT_HELP_MSG
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The top of our makefile is a help message.
Running the traditional invocation &lt;code&gt;make help&lt;/code&gt; will call that recipe and we'll
see an abridged list of the available recipes printed to our terminal.
Since &lt;code&gt;help&lt;/code&gt; is the very first recipe in the makefile, it will also be the
default recipe;
typing &lt;code&gt;make&lt;/code&gt; alone prints the help message.&lt;/p&gt;
&lt;p&gt;As you start adding additional recipes, fill out this usage message.
That way you'll have both documentation about the analysis targets, and also
a handy cheatsheet.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Edit (2016-06-15):&lt;/em&gt; &lt;a href="https://www.reddit.com/r/bioinformatics/comments/4o7aaa/a_simple_makefile_to_make_your_life_simple_xpost/d4aa8ir"&gt;On Reddit, /r/guepier&lt;/a&gt; suggests using a
nifty trick to auto-generate these help messages,
keeping documentation and recipes together in your makefile.&lt;/p&gt;
&lt;h2&gt;Streamline git setup&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;.git&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Every project should be &lt;a href="https://dx.doi.org/10.1186/1751-0473-8-7"&gt;version controlled&lt;/a&gt;.
I prefer git, but the makefile can probably be adapted for Mercurial,
Subversion, darcs, etc.
This recipe is so simple as to appear useless (since &lt;code&gt;make .git&lt;/code&gt; is no easier
to type than &lt;code&gt;git init&lt;/code&gt;) but we use the directory &lt;code&gt;.git/&lt;/code&gt; as an
&lt;a href="https://www.gnu.org/software/make/manual/html_node/Prerequisite-Types.html"&gt;order-only prerequisite&lt;/a&gt;
for the next recipe:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;git-config&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; .&lt;span class="n"&gt;git&lt;/span&gt; 
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;filter.dropoutput_jupyter.clean&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;drop_jupyter_output.sh
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;filter.dropoutput_jupyter.smudge&lt;span class="w"&gt; &lt;/span&gt;cat
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;core.page&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;less -x4&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;diff.daff-csv.command&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py diff --git&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;merge.daff-csv.name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py tabular merge&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;merge.daff-csv.driver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py merge --output %A %O %A %B&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Git configuration is &lt;em&gt;just&lt;/em&gt; annoying enough that I often put it off for a new
project.
With this recipe I don't have to!&lt;/p&gt;
&lt;p&gt;There are three parts to the configuration above;
customize it for how you use git.&lt;/p&gt;
&lt;h3&gt;Drop Jupyter Notebook output&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;filter.dropoutput_jupyter.clean&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;./drop_jupyter_output.sh
git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;filter.dropoutput_jupyter.smudge&lt;span class="w"&gt; &lt;/span&gt;cat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I set up a &lt;a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Attributes"&gt;clean/smudge filter&lt;/a&gt; for my Jupyter notebooks.
Outputs of analysis should generally not be version controlled,
and this includes those outputs that are inlined in a Jupyter notebook.
Now, when you &lt;code&gt;git add&lt;/code&gt; and &lt;code&gt;git diff&lt;/code&gt; notebooks, the output from cells will
be automatically ignored.
Thankfully, using this filter won't change the contents of the &lt;code&gt;.ipynb&lt;/code&gt; file
itself, just the contents of the diff.
This does mean, however, that when you &lt;code&gt;git checkout&lt;/code&gt; an old version of your
notebook you'll have to re-execute all of the cells to get the results.&lt;/p&gt;
&lt;p&gt;Two other files are needed for this configuration to have any effect.
First, &lt;code&gt;.gitattributes&lt;/code&gt; which is a tab-separated file mapping filename patterns
to special git configuration.
The first line in that file should be the following.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;*.ipynb filter=dropoutput_jupyter
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;(That's a tab after &lt;code&gt;*.ipynb&lt;/code&gt;.)&lt;/p&gt;
&lt;p&gt;The second file is the filter &lt;code&gt;drop_jupyter_output.sh&lt;/code&gt;,
which needs to be executable.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/usr/bin/env bash&lt;/span&gt;
&lt;span class="c1"&gt;# run `chmod +x drop_jupyter_output.sh` to make it executable.&lt;/span&gt;

&lt;span class="nv"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;mktemp&lt;span class="k"&gt;)&lt;/span&gt;
cat&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="nv"&gt;$file&lt;/span&gt;
jupyter&lt;span class="w"&gt; &lt;/span&gt;nbconvert&lt;span class="w"&gt; &lt;/span&gt;--to&lt;span class="w"&gt; &lt;/span&gt;notebook&lt;span class="w"&gt; &lt;/span&gt;--ClearOutputPreprocessor.enabled&lt;span class="o"&gt;=&lt;/span&gt;True&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--stdout&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;/dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Display tabs as four spaces&lt;/h3&gt;
&lt;p&gt;I also configure &lt;code&gt;less&lt;/code&gt; to show four spaces for tabs.
This makes &lt;code&gt;git diff&lt;/code&gt;-ing my makefile much easier on the eyes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;core.page&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;less -x4&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Smart &lt;code&gt;diff&lt;/code&gt;s for tabular data&lt;/h3&gt;
&lt;p&gt;Since git considers changes on a per-line basis, looking at
&lt;code&gt;diff&lt;/code&gt;s of comma-delimited and tab-delimited files can get obnoxious.
The program &lt;a href="http://paulfitz.github.io/daff/"&gt;&lt;code&gt;daff&lt;/code&gt;&lt;/a&gt; fixes this problem.&lt;/p&gt;
&lt;p&gt;We'll configure git to use &lt;code&gt;daff&lt;/code&gt; for all tabular files.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;diff.daff-csv.command&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py diff --git&amp;quot;&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;merge.daff-csv.name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py tabular merge&amp;quot;&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;merge.daff-csv.driver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;daff.py merge --output %A %O %A %B&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Just like the output filter for Jupyter notebooks, we need to associate
this configuration with CSVs and TSVs in our &lt;code&gt;.gitattributes&lt;/code&gt; file by adding
the following two lines.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tc&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="n"&gt;sv&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;daff&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;csv&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;tc&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="n"&gt;sv&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;merge&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;daff&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;csv&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Automatic python virtual environments&lt;/h2&gt;
&lt;p&gt;There are plenty of &lt;a href="https://www.davidfischer.name/2010/04/why-you-should-be-using-pip-and-virtualenv/"&gt;reasons&lt;/a&gt; to sandbox your python environments.
If you're like me and keep a separate virtual environment for every project,
you'll appreciate these recipes to automate creating them and updating
packages.&lt;/p&gt;
&lt;p&gt;If you don't use python/pip, these recipes can be swapped out for other
sandboxing systems.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;VENV&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.venv
&lt;span class="k"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;VIRTUAL_ENV&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;abspath&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VENV&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VIRTUAL_ENV&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/bin:&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;

&lt;span class="nf"&gt;${VENV}&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;-m&lt;span class="w"&gt; &lt;/span&gt;venv&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;

&lt;span class="nf"&gt;python-reqs&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;requirements&lt;/span&gt;.&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; ${&lt;span class="n"&gt;VENV&lt;/span&gt;}
&lt;span class="w"&gt;    &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;--upgrade&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;requirements.pip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the top block, we first set a variable &lt;code&gt;VENV&lt;/code&gt; to be the location of our
virtual environment.
We then set &lt;code&gt;VIRTUAL_ENV&lt;/code&gt; and prepend its &lt;code&gt;bin/&lt;/code&gt; to our &lt;code&gt;PATH&lt;/code&gt;.
By exporting these variables, all recipes run from this makefile will
use python packages and executables from the virtual environment.
We don't have to remember to &lt;code&gt;source .venv/bin/activate&lt;/code&gt; first!&lt;/p&gt;
&lt;p&gt;(&lt;em&gt;Edit (2016-06-22):&lt;/em&gt; Based on my own testing, it would appear that this
approach to virtual environments in recipes does not work with the default
&lt;em&gt;GNU Make&lt;/em&gt; version installed on OS X.
It will, however, work with &lt;a href="http://brew.sh/"&gt;Homebrew&lt;/a&gt;'s version which is
installed as &lt;code&gt;gmake&lt;/code&gt; instead of &lt;code&gt;make&lt;/code&gt;.
It is unclear to me why the behavior is different.)&lt;/p&gt;
&lt;p&gt;The next block is the recipe to initialize the virtual environment.
If you're not using Python 3 for your project you will have to edit this one.&lt;/p&gt;
&lt;p&gt;And finally, a recipe to install and update all of the packages listed in
&lt;code&gt;requirements.pip&lt;/code&gt;.
If you want to make a change to your python requirements, add it to
&lt;code&gt;requirements.pip&lt;/code&gt; and re-run &lt;code&gt;make python-reqs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can bootstrap other software installations similarly.
And, if you discipline yourself to make all changes to your execution
environment in this way, you'll have a permanently up-to-date record of your
system requirements.&lt;/p&gt;
&lt;h2&gt;Single-command project setup&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;setup&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;${&lt;span class="n"&gt;VENV&lt;/span&gt;} &lt;span class="n"&gt;python&lt;/span&gt;-&lt;span class="n"&gt;reqs&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;-&lt;span class="n"&gt;config&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; .&lt;span class="n"&gt;git&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;With this meta-target a simple &lt;code&gt;make setup&lt;/code&gt; will have our new project
configured and ready to go.
This is particularly useful if you work on multiple machines:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;git@github.com:username/project.git
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;project
make&lt;span class="w"&gt; &lt;/span&gt;setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;is all it takes to get up and running.&lt;/p&gt;
&lt;h2&gt;Launch your tools without the hassle&lt;/h2&gt;
&lt;p&gt;I use Jupyter Notebooks a lot.
With this recipe (and the &lt;code&gt;PATH&lt;/code&gt; we export above) I don't have to remember
to activate my virtual environment or invoke specific configuration files
when I launch a server.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nf"&gt;start-jupyter&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;jupyter&lt;span class="w"&gt; &lt;/span&gt;notebook&lt;span class="w"&gt; &lt;/span&gt;--config&lt;span class="o"&gt;=&lt;/span&gt;jupyter_notebook_config.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Put whatever you'd like into the &lt;a href="http://jupyter-notebook.readthedocs.io/en/latest/config.html"&gt;config file&lt;/a&gt;.
I like to keep my notebooks in a subdirectory, so my invocation is a little different:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jupyter&lt;span class="w"&gt; &lt;/span&gt;notebook&lt;span class="w"&gt; &lt;/span&gt;--config&lt;span class="o"&gt;=&lt;/span&gt;ipynb/jupyter_notebook_config.py&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;--notebook-dir&lt;span class="o"&gt;=&lt;/span&gt;ipynb/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And my configuration automatically changes the working directory to
the project root when launching a new notebook.&lt;/p&gt;
&lt;p&gt;Customize!
The same general idea works for any other software you can start from the shell.
No need to remember any of the obnoxious command-line flags.&lt;/p&gt;
&lt;h2&gt;Quick cleanup&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;CLEANUP&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;*.pyc

&lt;span class="nf"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;-rf&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;CLEANUP&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A ubiquitous target for &lt;em&gt;Make&lt;/em&gt; is &lt;code&gt;clean&lt;/code&gt; to tidy up the repository.
With this makefile, run &lt;code&gt;make clean&lt;/code&gt; to remove all the &lt;code&gt;*.pyc&lt;/code&gt; files.
Customize the &lt;code&gt;CLEANUP&lt;/code&gt; variable with filenames and globs you find yourself
&lt;code&gt;rm&lt;/code&gt;-ing repeatedly.
For me, this includes a bunch of &lt;code&gt;*.log&lt;/code&gt; and &lt;code&gt;*.logfile&lt;/code&gt; files.&lt;/p&gt;
&lt;h2&gt;Fork this code!&lt;/h2&gt;
&lt;p&gt;That's all I've got for a default makefile.
And even this one is more complicated than it has to be;
any &lt;em&gt;one&lt;/em&gt; component from it can make your life easier when practicing
reproducible research.&lt;/p&gt;
&lt;p&gt;The whole point is to hide as much of the humdrum stuff as you can so you get
to focus on what counts.
I've found this makefile saves me both time and, more importantly, mental
energy.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Makefile&lt;/code&gt;, &lt;code&gt;.gitattributes&lt;/code&gt;, &lt;code&gt;requirements.pip&lt;/code&gt; and
&lt;code&gt;drop_jupyter_output.sh&lt;/code&gt; described
here can all be downloaded from &lt;a href="https://gist.github.com/bsmith89/c6811893c1cbd2a72cc1d144a197bef2"&gt;this gist&lt;/a&gt;&lt;sup id="fnref:bootstrap-idea"&gt;&lt;a class="footnote-ref" href="#fn:bootstrap-idea"&gt;4&lt;/a&gt;&lt;/sup&gt;.
Next time you're starting a project, download them to the project directory,
run &lt;code&gt;make setup&lt;/code&gt;, and let me know what you think!&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:shorter-tutorials"&gt;
&lt;p&gt;My tutorial is designed to fill a three hour
    Software Carpentry lesson.  There are a number of much shorter
    primers to get you started (e.g. &lt;a href="http://zmjones.com/make/"&gt;#1&lt;/a&gt;,
    &lt;a href="https://bost.ocks.org/mike/make/"&gt;#2&lt;/a&gt;, &lt;a href="http://kbroman.org/minimal_make/"&gt;#3&lt;/a&gt;).&amp;#160;&lt;a class="footnote-backref" href="#fnref:shorter-tutorials" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:xkcd-refs"&gt;
&lt;p&gt;Randall Munroe does not agree.
    Relevant XKCDs: &lt;a href="https://xkcd.com/1205/"&gt;#1&lt;/a&gt;,
    &lt;a href="https://xkcd.com/1319/"&gt;#2&lt;/a&gt;, and &lt;a href="https://xkcd.com/974/"&gt;#3&lt;/a&gt;&amp;#160;&lt;a class="footnote-backref" href="#fnref:xkcd-refs" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:cook-ref"&gt;
&lt;p&gt;John Cook makes &lt;a href="http://www.johndcook.com/blog/2015/12/22/automate-to-save-mental-energy-not-time/"&gt;this argument&lt;/a&gt; on his blog.&amp;#160;&lt;a class="footnote-backref" href="#fnref:cook-ref" title="Jump back to footnote 3 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:bootstrap-idea"&gt;
&lt;p&gt;Even better, you could write a recipe to download those files
    on &lt;code&gt;make setup&lt;/code&gt;!&amp;#160;&lt;a class="footnote-backref" href="#fnref:bootstrap-idea" title="Jump back to footnote 4 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="Computing"></category><category term="make"></category><category term="pipelines"></category><category term="bioinformatics"></category><category term="protips"></category><category term="git"></category><category term="containers"></category><category term="python"></category></entry></feed>